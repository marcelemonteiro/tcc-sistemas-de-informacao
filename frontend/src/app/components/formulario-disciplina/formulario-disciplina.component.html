<form class="matricula-form" (ngSubmit)="handleCreateDisciplinaSubmit()">
  <div class="input-group">
    <label for="nome">Nome</label>
    <input
      type="text"
      id="nome"
      name="nome"
      [(ngModel)]="nome"
      placeholder="Digite o nome da disciplina"
    />
  </div>

  <div class="input-group">
    <label for="turma">Turma</label>
    <select name="turma" id="turma" [(ngModel)]="turma.id">
      <option value="" disabled>Selecione uma turma</option>
      @for (turma of turmas; track turma.id) {
        <option [value]="turma.id">
          {{ turma.nome }} {{ turma.serieAno }} | {{ turma.turno }}
        </option>
      }
    </select>
  </div>

  <div class="input-group">
    <label for="professor">Professor</label>
    <select name="professor" id="professor" [(ngModel)]="professor.id">
      <option value="" disabled>Selecione uma professor</option>
      @for (professor of professores; track professor.id) {
        <option [value]="professor.id">
          {{ professor.nome }}
        </option>
      }
    </select>
  </div>

  <div class="horarios">
    <h3>Horários</h3>

    @for (horario of horarios; track horario.id) {
      <div>
        <div class="input-group">
          <label for="diaSemana">Dia da semana</label>
          <input
            type="text"
            [id]="'diaSemana_' + horario.id"
            [name]="'diaSemana_' + horario.id"
            [(ngModel)]="horario.diaSemana"
            placeholder="Digite o dia da semana da disciplina"
          />
        </div>

        <div class="input-group">
          <label for="horarioInicial">Horário de início</label>
          <input
            type="text"
            [id]="'horarioInicial_' + horario.id"
            [name]="'horarioInicial_' + horario.id"
            [(ngModel)]="horario.horarioInicial"
            placeholder="Digite o horário de início"
          />
        </div>

        <div class="input-group">
          <label for="horarioFinal">Horário de término</label>
          <input
            type="text"
            [id]="'horarioFinal_' + horario.id"
            [name]="'horarioFinal_' + horario.id"
            [(ngModel)]="horario.horarioFinal"
            placeholder="Digite o horário de término"
          />
        </div>
      </div>
    }

    <button (click)="adicionarInputsHorario()" type="button">+ horário</button>
  </div>

  <div class="buttons">
    <button type="submit">
      @if (action === "update") {
        Atualizar disciplina
      } @else {
        Criar disciplina
      }
    </button>

    <a [routerLink]="['/admin/disciplinas']">Voltar</a>
  </div>
</form>
