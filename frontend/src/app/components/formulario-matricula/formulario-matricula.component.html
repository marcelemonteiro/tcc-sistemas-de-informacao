<form class="matricula-form" (ngSubmit)="handleMatriculaSubmit()">
  <div class="input-group">
    <label for="nome">Nome completo</label>
    <input
      type="text"
      id="nome"
      name="nome"
      [(ngModel)]="alunoData.nome"
      placeholder="Digite o nome completo"
    />
  </div>

  <div class="input-group">
    <label for="dataNascimento">Data de Nascimento</label>
    <input
      type="date"
      id="dataNascimento"
      name="dataNascimento"
      [(ngModel)]="alunoData.dataNascimento"
    />
  </div>

  <div class="input-group">
    <label for="cpf">CPF</label>
    <input
      type="text"
      id="cpf"
      name="cpf"
      [(ngModel)]="alunoData.cpf"
      placeholder="Digite o CPF"
    />
  </div>

  <div class="input-group">
    <label for="telefone">Telefone</label>
    <input
      type="text"
      id="telefone"
      name="telefone"
      [(ngModel)]="alunoData.telefone"
      placeholder="Digite o telefone"
    />
  </div>

  <div class="input-group">
    <label for="turma">Turma</label>
    <select name="turma" id="turma" [(ngModel)]="alunoData.turma.id">
      <option value="" disabled>Selecione uma turma</option>
      @for (turma of turmas; track turma.id) {
        <option [value]="turma.id">
          {{ turma.nome }} | {{ turma.serieAno }} | {{ turma.turno }}
        </option>
      }
    </select>
  </div>

  <div class="matricula-form-endereco">
    <p>Endereço</p>

    <div class="matricula-form-endereco-inputs">
      <div class="input-group">
        <label for="cep">CEP</label>
        <input
          type="text"
          id="cep"
          name="cep"
          [(ngModel)]="alunoDataEndereco.cep"
          placeholder="Digite o CEP"
          maxlength="9"
        />
      </div>

      <div class="input-group">
        <label for="numero">Número</label>
        <input
          type="text"
          id="numero"
          name="numero"
          [(ngModel)]="alunoDataEndereco.numero"
          placeholder="Digite o número"
        />
      </div>

      <div class="input-group">
        <label for="logradouro">Logradouro</label>
        <input
          type="text"
          id="logradouro"
          name="logradouro"
          [(ngModel)]="alunoDataEndereco.logradouro"
          placeholder="Digite o logradouro"
        />
      </div>

      <div class="input-group">
        <label for="bairro">Bairro</label>
        <input
          type="text"
          id="bairro"
          name="bairro"
          [(ngModel)]="alunoDataEndereco.bairro"
          placeholder="Digite o bairro"
        />
      </div>

      <div class="input-group">
        <label for="cidade">Cidade</label>
        <input
          type="text"
          id="cidade"
          name="cidade"
          [(ngModel)]="alunoDataEndereco.cidade"
          placeholder="Digite a cidade"
        />
      </div>

      <div class="input-group">
        <label for="estado">Estado</label>
        <input
          type="text"
          id="estado"
          name="estado"
          [(ngModel)]="alunoDataEndereco.estado"
          placeholder="Digite o estado"
          maxlength="2"
        />
      </div>

      <div class="input-group">
        <label for="complemento">Complemento</label>
        <input
          type="text"
          id="complemento"
          name="complemento"
          [(ngModel)]="alunoDataEndereco.complemento"
          placeholder="Digite o complemento"
        />
      </div>
    </div>
  </div>

  <div class="matricula-form-endereco">
    <p>Usuário de acesso</p>

    <div class="matricula-form-endereco-inputs">
      <div class="input-group">
        <label for="email">E-mail</label>
        <input
          type="email"
          id="email"
          name="email"
          [(ngModel)]="alunoData.email"
          placeholder="Digite o e-mail"
        />
      </div>

      <div class="input-group">
        <label for="senha">Senha</label>
        <input
          type="password"
          id="senha"
          name="senha"
          [(ngModel)]="alunoData.senha"
          placeholder="Digite a senha"
        />
      </div>
    </div>
  </div>

  <div class="buttons">
    <button type="submit">
      @if (action === "update") {
        Atualizar matrícula
      } @else {
        Abrir matrícula
      }
    </button>

    <a [routerLink]="['/admin/matriculas']">Voltar</a>
  </div>
</form>
